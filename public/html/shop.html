<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="D&D Brand koleksiyonları ve ürünler">
    <title>Koleksiyon | D&D Brand</title>
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/shop.css">
    <link rel="stylesheet" href="/css/mobile.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=League+Spartan:wght@400;500;600;700&family=Montserrat:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/14.6.3/nouislider.min.css">
    <!-- Custom fixes for mobile spacing issues -->
    <style>
        @media (max-width: 768px) {
            /* Header styling - elegant black version */
            .header {
                background-color: black;
                color: white;
                box-shadow: none;
            }
            
            .logo-text {
                color: white;
            }
            
            .nav-icons a {
                color: white;
            }
            
            .mobile-menu-btn {
                color: white;
            }
            
            /* Shop grid improvements */
            .shop-grid {
                display: grid;
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
                padding: 0 15px;
            }
            
            .product-card {
                border-radius: 0;
                box-shadow: none;
                border: none;
                background: transparent;
                margin-bottom: 15px;
            }
            
            .product-image {
                padding-bottom: 125%;
                position: relative;
                overflow: hidden;
                background-color: #f9f9f9;
            }
            
            .product-info {
                padding: 10px 0;
                text-align: left;
            }
            
            .product-info h3 {
                font-size: 0.8rem;
                margin-bottom: 5px;
                font-weight: 500;
                line-height: 1.3;
            }
            
            /* Fix spacing */
            body {
                padding: 0;
                margin: 0;
                width: 100%;
                overflow-x: hidden;
            }
            
            .container {
                padding-left: 15px;
                padding-right: 15px;
                max-width: 100%;
            }
            
            section {
                width: 100%;
                margin: 0;
                padding: 40px 0;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="logo">
                <a href="/" class="logo-link">
                    <img src="/images/WhatsApp_Image_2025-03-04_at_01.39.12_65330df1-removebg-preview.png" alt="D&D Brand Logo" class="logo-image">
                </a>
                <h1>D&D <span>Brand</span></h1>
            </div>
            <nav>
                <ul>
                    <li><a href="/">ANA SAYFA</a></li>
                    <li><a href="/shop">KOLEKSİYON</a></li>
                    <li><a href="/about">HAKKIMIZDA</a></li>
                    <li><a href="/contact">İLETİŞİM</a></li>
                </ul>
            </nav>
            <div class="nav-icons">
                <a href="/search" class="search-icon"><i class="fas fa-search"></i></a>
                <a href="/account" class="account-icon"><i class="fas fa-user"></i><span>HESABIM</span></a>
                <a href="/cart" class="cart-icon">
                    <i class="fas fa-shopping-bag"></i>
                    <span>SEPET</span>
                    <span class="cart-count">0</span>
                    
                    <div class="cart-preview">
                        <div class="cart-preview-header">
                            <h3>Sepetiniz</h3>
                            <span class="cart-preview-count">0 Ürün</span>
                        </div>
                        <div class="cart-preview-items">
                            <!-- Cart items will be added here by JavaScript -->
                            <div class="empty-cart-message">Sepetiniz boş</div>
                        </div>
                        <div class="cart-preview-footer">
                            <div class="cart-preview-total">
                                <span>Toplam:</span>
                                <span class="cart-preview-total-price">₺0.00</span>
                            </div>
                            <div class="cart-preview-actions">
                                <a href="/cart" class="view-cart">Sepeti Görüntüle</a>
                                <a href="/checkout" class="checkout">Ödeme</a>
                            </div>
                        </div>
                    </div>
                </a>
            </div>
            <button class="mobile-menu-btn">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </header>

    <div class="mobile-menu">
        <div class="mobile-menu-header">
            <div class="logo">
                <h1>D&D <span>Brand</span></h1>
            </div>
            <div class="close-btn">
                <i class="fas fa-times"></i>
            </div>
        </div>
        <ul>
            <li><a href="/">Ana Sayfa</a></li>
            <li><a href="/shop">Koleksiyon</a></li>
            <li><a href="/about">Hakkımızda</a></li>
            <li><a href="/contact">İletişim</a></li>
            <li><a href="/account">Hesabım</a></li>
            <li><a href="/cart">Sepet</a></li>
        </ul>
    </div>
    <div class="mobile-menu-overlay"></div>

    <section class="page-header">
        <div class="container">
            <h1>Koleksiyon</h1>
            <div class="breadcrumb">
                <div class="breadcrumb-item"><a href="/">Ana Sayfa</a></div>
                <div class="breadcrumb-item active">Koleksiyon</div>
            </div>
        </div>
    </section>

    <section class="shop-section">
        <div class="container">
            <div class="mobile-filter-toggle">
                <i class="fas fa-filter"></i> Filtreleri Göster
            </div>
            <div class="shop-layout">
                <div class="shop-sidebar">
                    <div class="filter-close">
                        <i class="fas fa-times"></i>
                    </div>
                    <div class="sidebar-widget">
                        <h3>Kategoriler</h3>
                        <ul class="category-list">
                            <li><a href="#" data-category="all" class="active">Tümü</a></li>
                            <li><a href="#" data-category="men">Erkek</a></li>
                            <li><a href="#" data-category="women">Kadın</a></li>
                            <li><a href="#" data-category="accessories">Aksesuarlar</a></li>
                        </ul>
                    </div>

                    <div class="sidebar-widget">
                        <h3>Fiyat Aralığı</h3>
                        <div class="price-filter">
                            <div id="price-slider"></div>
                            <div class="price-inputs">
                                <div class="price-input">
                                    <span>Min:</span>
                                    <input type="text" id="min-price" readonly>
                                </div>
                                <div class="price-input">
                                    <span>Max:</span>
                                    <input type="text" id="max-price" readonly>
                                </div>
                            </div>
                            <button id="apply-price-filter" class="btn btn-secondary">Uygula</button>
                        </div>
                    </div>

                    <div class="sidebar-widget">
                        <h3>Özellikler</h3>
                        <div class="filter-options">
                            <label class="filter-option">
                                <input type="checkbox" data-feature="new">
                                <span class="checkmark"></span>
                                Yeni Gelenler
                            </label>
                            <label class="filter-option">
                                <input type="checkbox" data-feature="sale">
                                <span class="checkmark"></span>
                                İndirimli Ürünler
                            </label>
                            <label class="filter-option">
                                <input type="checkbox" data-feature="featured">
                                <span class="checkmark"></span>
                                Öne Çıkanlar
                            </label>
                        </div>
                    </div>

                    <div class="sidebar-widget">
                        <h3>Renkler</h3>
                        <div class="color-filters">
                            <div class="color-filter">
                                <input type="checkbox" id="color-black" value="black">
                                <span class="color-swatch black" data-color="black"></span>
                                <span>Siyah</span>
                            </div>
                            <div class="color-filter">
                                <input type="checkbox" id="color-white" value="white">
                                <span class="color-swatch white" data-color="white"></span>
                                <span>Beyaz</span>
                            </div>
                            <div class="color-filter">
                                <input type="checkbox" id="color-red" value="red">
                                <span class="color-swatch red" data-color="red"></span>
                                <span>Kırmızı</span>
                            </div>
                            <div class="color-filter">
                                <input type="checkbox" id="color-blue" value="blue">
                                <span class="color-swatch blue" data-color="blue"></span>
                                <span>Mavi</span>
                            </div>
                            <div class="color-filter">
                                <input type="checkbox" id="color-green" value="green">
                                <span class="color-swatch green" data-color="green"></span>
                                <span>Yeşil</span>
                            </div>
                            <div class="color-filter">
                                <input type="checkbox" id="color-yellow" value="yellow">
                                <span class="color-swatch yellow" data-color="yellow"></span>
                                <span>Sarı</span>
                            </div>
                        </div>
                    </div>

                    <div class="sidebar-widget">
                        <h3>Bedenler</h3>
                        <div class="size-filters">
                            <div class="size-filter">
                                <input type="checkbox" id="size-xs" value="xs">
                                <span>XS</span>
                            </div>
                            <div class="size-filter">
                                <input type="checkbox" id="size-s" value="s">
                                <span>S</span>
                            </div>
                            <div class="size-filter">
                                <input type="checkbox" id="size-m" value="m">
                                <span>M</span>
                            </div>
                            <div class="size-filter">
                                <input type="checkbox" id="size-l" value="l">
                                <span>L</span>
                            </div>
                            <div class="size-filter">
                                <input type="checkbox" id="size-xl" value="xl">
                                <span>XL</span>
                            </div>
                            <div class="size-filter">
                                <input type="checkbox" id="size-xxl" value="xxl">
                                <span>XXL</span>
                            </div>
                        </div>
                    </div>

                    <div class="sidebar-widget">
                        <button id="apply-filters" class="btn filter-apply-btn">Filtreleri Uygula</button>
                        <button id="reset-filters" class="btn btn-secondary filter-reset-btn">Filtreleri Sıfırla</button>
                    </div>
                </div>
                <div class="shop-products">
                    <div class="shop-header">
                        <div class="product-count">
                            <span id="product-count">0</span> ürün bulundu
                        </div>
                        <div class="shop-sorting">
                            <label for="sort-by">Sırala:</label>
                            <select id="sort-by">
                                <option value="default">Varsayılan</option>
                                <option value="price-low">Fiyat: Düşükten Yükseğe</option>
                                <option value="price-high">Fiyat: Yüksekten Düşüğe</option>
                                <option value="name-asc">İsim: A-Z</option>
                                <option value="name-desc">İsim: Z-A</option>
                                <option value="newest">En Yeniler</option>
                            </select>
                        </div>
                    </div>
                    <div class="shop-grid" id="products-container">
                        <!-- Products will be loaded here -->
                    </div>
                    <div class="pagination" id="pagination">
                        <!-- Pagination will be generated here -->
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <div class="filter-overlay"></div>

    <section class="newsletter">
        <div class="container">
            <div class="newsletter-content">
                <h2>Yeniliklerden Haberdar Olun</h2>
                <p>En yeni koleksiyonlar ve özel fırsatlar için bültenimize abone olun.</p>
                <form class="newsletter-form">
                    <input type="email" placeholder="E-posta adresiniz" required>
                    <button type="submit" class="btn">ABONE OL</button>
                </form>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>D&D Brand</h3>
                    <p>Premium kalite, modern tasarım ve benzersiz detaylarla öne çıkan lüks giyim markası.</p>
                    <div class="social-icons">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-pinterest"></i></a>
                    </div>
                </div>
                <div class="footer-column">
                    <h3>Alışveriş</h3>
                    <ul>
                        <li><a href="/shop?category=men">Erkek Koleksiyonu</a></li>
                        <li><a href="/shop?category=women">Kadın Koleksiyonu</a></li>
                        <li><a href="/shop?category=accessories">Aksesuarlar</a></li>
                        <li><a href="/shop?sale=true">İndirim</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Yardım</h3>
                    <ul>
                        <li><a href="/contact">Bize Ulaşın</a></li>
                        <li><a href="/shipping">Kargo Bilgileri</a></li>
                        <li><a href="/returns">İade ve Değişim</a></li>
                        <li><a href="/faq">Sıkça Sorulan Sorular</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Hakkımızda</h3>
                    <ul>
                        <li><a href="/about">Hikayemiz</a></li>
                        <li><a href="/sustainability">Sürdürülebilirlik</a></li>
                        <li><a href="/careers">Kariyer</a></li>
                        <li><a href="/privacy">Gizlilik Politikası</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2023 D&D Brand. Tüm hakları saklıdır.</p>
            </div>
        </div>
    </footer>

    <!-- Floating WhatsApp Button -->
    <a href="https://wa.me/905373058528?text=Merhaba%20D%26D%20Brand,%20" target="_blank" class="whatsapp-float">
        <i class="fab fa-whatsapp"></i>
    </a>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/14.6.3/nouislider.min.js"></script>
    <script src="/js/config.js"></script>
    <script src="/js/services/imageService.js"></script>
    <script src="/js/storage-manager.js"></script>
    <script src="/js/script.js"></script>
    <script src="/js/shop.js"></script>
    <script>
        // Mobile Menu Toggle
        const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
        const mobileMenu = document.querySelector('.mobile-menu');
        const mobileMenuOverlay = document.querySelector('.mobile-menu-overlay');
        const closeBtn = document.querySelector('.close-btn');

        if (mobileMenuBtn) {
            mobileMenuBtn.addEventListener('click', function() {
                mobileMenu.classList.add('active');
                mobileMenuOverlay.classList.add('active');
                document.body.style.overflow = 'hidden';
            });
        }

        if (closeBtn) {
            closeBtn.addEventListener('click', function() {
                mobileMenu.classList.remove('active');
                mobileMenuOverlay.classList.remove('active');
                document.body.style.overflow = '';
            });
        }

        if (mobileMenuOverlay) {
            mobileMenuOverlay.addEventListener('click', function() {
                mobileMenu.classList.remove('active');
                mobileMenuOverlay.classList.remove('active');
                document.body.style.overflow = '';
            });
        }

        // Filter Toggle
        const filterToggle = document.querySelector('.mobile-filter-toggle');
        const filterSidebar = document.querySelector('.shop-sidebar');
        const filterOverlay = document.querySelector('.filter-overlay');
        const filterClose = document.querySelector('.filter-close');

        if (filterToggle && filterSidebar) {
            filterToggle.addEventListener('click', function() {
                filterSidebar.classList.add('active');
                filterOverlay.classList.add('active');
                document.body.style.overflow = 'hidden';
            });
        }

        if (filterClose && filterSidebar) {
            filterClose.addEventListener('click', function() {
                filterSidebar.classList.remove('active');
                filterOverlay.classList.remove('active');
                document.body.style.overflow = '';
            });
        }

        if (filterOverlay && filterSidebar) {
            filterOverlay.addEventListener('click', function() {
                filterSidebar.classList.remove('active');
                filterOverlay.classList.remove('active');
                document.body.style.overflow = '';
            });
        }

        // Initialize price slider
        document.addEventListener('DOMContentLoaded', function() {
            const priceSlider = document.getElementById('price-slider');
            if (priceSlider) {
                noUiSlider.create(priceSlider, {
                    start: [0, 2000],
                    connect: true,
                    step: 50,
                    range: {
                        'min': 0,
                        'max': 5000
                    },
                    format: {
                        to: function (value) {
                            return Math.round(value);
                        },
                        from: function (value) {
                            return Number(value);
                        }
                    }
                });

                const minPriceInput = document.getElementById('min-price');
                const maxPriceInput = document.getElementById('max-price');

                priceSlider.noUiSlider.on('update', function (values, handle) {
                    if (handle === 0) {
                        minPriceInput.value = '₺' + values[handle];
                    } else {
                        maxPriceInput.value = '₺' + values[handle];
                    }
                });
            }
        });
        
        // Sample Products Data
        const products = [
            {
                id: 1,
                name: 'Premium Pamuklu T-Shirt',
                brand: 'D&D Brand',
                price: 299.99,
                oldPrice: 349.99,
                image: '/images/placeholder-product.jpg',
                isSale: true,
                isNew: false,
                category: 'men',
                color: 'black',
                size: ['S', 'M', 'L', 'XL']
            },
            {
                id: 2,
                name: 'Slim Fit Jean',
                brand: 'D&D Brand',
                price: 599.99,
                oldPrice: null,
                image: '/images/placeholder-product.jpg',
                isSale: false,
                isNew: true,
                category: 'men',
                color: 'blue',
                size: ['M', 'L', 'XL']
            },
            {
                id: 3,
                name: 'Oversize Hoodie',
                brand: 'D&D Brand',
                price: 499.99,
                oldPrice: 599.99,
                image: '/images/placeholder-product.jpg',
                isSale: true,
                isNew: false,
                category: 'men',
                color: 'red',
                size: ['S', 'M', 'L']
            },
            {
                id: 4,
                name: 'Kış Ceketi',
                brand: 'D&D Brand',
                price: 1299.99,
                oldPrice: null,
                image: '/images/placeholder-product.jpg',
                isSale: false,
                isNew: true,
                category: 'men',
                color: 'black',
                size: ['M', 'L', 'XL']
            },
            {
                id: 5,
                name: 'Bluz',
                brand: 'D&D Brand',
                price: 349.99,
                oldPrice: null,
                image: '/images/placeholder-product.jpg',
                isSale: false,
                isNew: true,
                category: 'women',
                color: 'white',
                size: ['S', 'M', 'L']
            },
            {
                id: 6,
                name: 'Deri Çanta',
                brand: 'D&D Brand',
                price: 899.99,
                oldPrice: 1099.99,
                image: '/images/placeholder-product.jpg',
                isSale: true,
                isNew: false,
                category: 'accessories',
                color: 'brown',
                size: []
            }
        ];

        // Render Products
        function renderProducts(productList) {
            const container = document.getElementById('products-container');
            if (!container) return;
            
            container.innerHTML = '';
            
            if (productList.length === 0) {
                container.innerHTML = '<div class="no-products">Ürün bulunamadı</div>';
                document.getElementById('product-count').textContent = '0';
                return;
            }
            
            document.getElementById('product-count').textContent = productList.length.toString();
            
            productList.forEach(product => {
                const productCard = document.createElement('div');
                productCard.classList.add('product-card', 'fade-in');
                
                productCard.innerHTML = `
                    <div class="product-image">
                        <img src="${product.image}" alt="${product.name}">
                        ${product.isSale ? '<span class="product-badge sale">İNDİRİM</span>' : ''}
                        ${product.isNew ? '<span class="product-badge new">YENİ</span>' : ''}
                    </div>
                    <div class="product-info">
                        <span class="brand">${product.brand}</span>
                        <h3>${product.name}</h3>
                        <div class="price">
                            ${product.oldPrice ? `<span class="old-price">₺${product.oldPrice}</span>` : ''}
                            <span>₺${product.price}</span>
                        </div>
                    </div>
                `;
                
                productCard.addEventListener('click', () => {
                    window.location.href = `/product?id=${product.id}`;
                });
                
                container.appendChild(productCard);
            });
            
            // Animate products
            const fadeElements = document.querySelectorAll('.fade-in');
            if ('IntersectionObserver' in window) {
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.style.opacity = '1';
                            entry.target.style.transform = 'translateY(0)';
                            observer.unobserve(entry.target);
                        }
                    });
                }, {
                    threshold: 0.1,
                    rootMargin: '0px 0px -50px 0px'
                });
                
                fadeElements.forEach((element, index) => {
                    element.style.opacity = '0';
                    element.style.transform = 'translateY(20px)';
                    element.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                    element.style.transitionDelay = `${index * 0.05}s`;
                    observer.observe(element);
                });
            } else {
                fadeElements.forEach(element => {
                    element.style.opacity = '1';
                    element.style.transform = 'translateY(0)';
                });
            }
        }

        // Initialize products
        document.addEventListener('DOMContentLoaded', function() {
            renderProducts(products);
            
            // Category filter
            const categoryLinks = document.querySelectorAll('.category-list a');
            categoryLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Remove active class from all links
                    categoryLinks.forEach(l => l.classList.remove('active'));
                    
                    // Add active class to clicked link
                    this.classList.add('active');
                    
                    const category = this.dataset.category;
                    
                    // Filter products
                    let filteredProducts;
                    if (category === 'all') {
                        filteredProducts = products;
                    } else {
                        filteredProducts = products.filter(product => product.category === category);
                    }
                    
                    renderProducts(filteredProducts);
                    
                    // Close mobile filter on selection
                    if (window.innerWidth <= 768) {
                        filterSidebar.classList.remove('active');
                        filterOverlay.classList.remove('active');
                        document.body.style.overflow = '';
                    }
                });
            });
            
            // Sort by change
            const sortBy = document.getElementById('sort-by');
            if (sortBy) {
                sortBy.addEventListener('change', function() {
                    const value = this.value;
                    let sortedProducts = [...products];
                    
                    switch (value) {
                        case 'price-low':
                            sortedProducts.sort((a, b) => a.price - b.price);
                            break;
                        case 'price-high':
                            sortedProducts.sort((a, b) => b.price - a.price);
                            break;
                        case 'name-asc':
                            sortedProducts.sort((a, b) => a.name.localeCompare(b.name));
                            break;
                        case 'name-desc':
                            sortedProducts.sort((a, b) => b.name.localeCompare(a.name));
                            break;
                        case 'newest':
                            sortedProducts.sort((a, b) => b.isNew - a.isNew);
                            break;
                    }
                    
                    renderProducts(sortedProducts);
                });
            }
        });
    </script>
</body>
</html> 