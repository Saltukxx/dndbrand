<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="Premium giyim ürünleri sunan D&D Brand resmi web sitesi">
    <title>DND Brand - Moda ve Stilin Adresi</title>
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/mobile.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=League+Spartan:wght@400;500;600;700&family=Montserrat:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/js/all.min.js" integrity="sha512-Tn2m0TIpgVyTzzvmxLNuqbSJH3JP8jm+Cy3hvHrW7ndTDcJ1w5mBiksqDBb8GpE2ksktFvDB/ykZ0mDpsZj20w==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="/js/config.js"></script>
    <script src="/js/services/imageService.js"></script>
    <!-- Custom fixes for mobile spacing issues -->
    <style>
        @media (max-width: 768px) {
            body, html {
                background-color: #121212;
                color: #f5f5f5;
                margin: 0;
                padding: 0;
                width: 100%;
                overflow-x: hidden;
            }
            
            header {
                background-color: #121212 !important;
                box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            }
            
            .logo h1 {
                color: #f5f5f5;
            }
            
            .logo span {
                color: #FE5000;
            }
            
            .nav-icons a {
                color: #f5f5f5;
            }
            
            .mobile-menu-btn {
                color: #f5f5f5;
            }
            
            .mobile-menu {
                background-color: #121212;
            }
            
            .mobile-menu ul li a {
                color: #f5f5f5;
                border-bottom: 1px solid #333;
            }
            
            .hero-content-mobile .season-tag {
                color: #f5f5f5;
                text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            }
            
            .hero-content-mobile .hashtag {
                color: #f5f5f5;
            }
            
            /* About Preview Section Styles */
            .about-preview-section {
                padding: 0;
                margin: 0;
                width: 100%;
                background-color: #121212;
                position: relative;
                z-index: 1;
            }
            
            .about-preview-card {
                position: relative;
                width: 100%;
                height: 280px;
                overflow: hidden;
            }
            
            .about-preview-card img {
                width: 100%;
                height: 100%;
                object-fit: cover;
                filter: brightness(0.6);
                transition: all 0.5s ease;
            }
            
            .about-preview-overlay {
                position: absolute;
                bottom: 0;
                left: 0;
                width: 100%;
                padding: 25px 20px;
                background: linear-gradient(to top, rgba(0,0,0,0.95) 0%, rgba(0,0,0,0.7) 50%, rgba(0,0,0,0.3) 90%, rgba(0,0,0,0) 100%);
                text-align: left;
            }
            
            .about-preview-title {
                color: #FE5000;
                font-size: 26px;
                margin: 0 0 12px 0;
                font-weight: 600;
                font-family: 'Playfair Display', serif;
                letter-spacing: 0.5px;
            }
            
            .about-preview-text {
                color: #f5f5f5;
                font-size: 15px;
                line-height: 1.6;
                margin-bottom: 20px;
                font-weight: 300;
            }
            
            .about-preview-btn {
                display: inline-block;
                padding: 10px 24px;
                background-color: #FE5000;
                color: #fff;
                font-size: 13px;
                font-weight: 600;
                text-decoration: none;
                border-radius: 30px;
                letter-spacing: 1px;
                transition: all 0.3s ease;
                box-shadow: 0 4px 15px rgba(254, 80, 0, 0.3);
                position: relative;
                overflow: hidden;
            }
            
            .about-preview-btn:after {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(255,255,255,0.1);
                transform: translateX(-100%);
                transition: transform 0.3s ease;
            }
            
            .about-preview-btn:hover:after {
                transform: translateX(0);
            }
            
            .about-preview-btn:hover {
                transform: translateY(-3px);
                box-shadow: 0 6px 20px rgba(254, 80, 0, 0.4);
            }
            
            /* New Trending Products Mobile Section */
            .trending-products-mobile {
                padding: 40px 15px;
                background-color: #0a0a0a;
                width: 100%;
                box-sizing: border-box;
                margin: 0;
            }
            
            .trending-header {
                text-align: center;
                margin-bottom: 30px;
            }
            
            .trending-header h2 {
                color: #f5f5f5;
                font-size: 24px;
                margin: 0 0 5px 0;
                font-weight: 600;
            }
            
            .trending-subtitle {
                color: #a0a0a0;
                font-size: 14px;
            }
            
            .trending-slider {
                width: 100%;
                display: flex;
                overflow-x: auto;
                scroll-snap-type: x mandatory;
                -webkit-overflow-scrolling: touch;
                scrollbar-width: none; /* For Firefox */
                gap: 15px;
                padding: 10px 0;
            }
            
            .trending-slider::-webkit-scrollbar {
                display: none; /* For Chrome, Safari and Opera */
            }
            
            .trending-product {
                scroll-snap-align: start;
                flex: 0 0 80%;
                background-color: #0f0f0f;
                border-radius: 10px;
                overflow: hidden;
                box-shadow: 0 4px 15px rgba(0,0,0,0.2);
                transition: transform 0.3s ease;
            }
            
            .trending-product:hover {
                transform: translateY(-5px);
            }
            
            .trending-product-image {
                width: 100%;
                height: 200px;
                overflow: hidden;
                position: relative;
            }
            
            .trending-product-image img {
                width: 100%;
                height: 100%;
                object-fit: cover;
                transition: transform 0.5s ease;
            }
            
            .trending-product:hover .trending-product-image img {
                transform: scale(1.1);
            }
            
            .trending-product-badge {
                position: absolute;
                top: 10px;
                right: 10px;
                background-color: #FE5000;
                color: #fff;
                padding: 5px 10px;
                font-size: 10px;
                font-weight: 600;
                border-radius: 20px;
                z-index: 2;
            }
            
            .trending-product-info {
                padding: 15px;
            }
            
            .trending-product-brand {
                color: #a0a0a0;
                font-size: 12px;
                margin-bottom: 5px;
            }
            
            .trending-product-name {
                color: #f5f5f5;
                font-size: 16px;
                font-weight: 500;
                margin: 0 0 10px 0;
                line-height: 1.3;
            }
            
            .trending-product-price {
                display: flex;
                align-items: center;
            }
            
            .trending-product-current-price {
                color: #FE5000;
                font-size: 18px;
                font-weight: 600;
            }
            
            .trending-product-old-price {
                color: #666;
                font-size: 14px;
                text-decoration: line-through;
                margin-left: 10px;
            }
            
            .trending-controls {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-top: 20px;
                padding: 0 5px;
            }
            
            .trending-dots {
                display: flex;
                gap: 8px;
            }
            
            .dot {
                width: 8px;
                height: 8px;
                border-radius: 50%;
                background-color: #333;
                transition: all 0.3s ease;
            }
            
            .dot.active {
                background-color: #FE5000;
                width: 20px;
                border-radius: 10px;
            }
            
            .trending-view-all {
                color: #FE5000;
                font-size: 14px;
                font-weight: 500;
                text-decoration: none;
                display: flex;
                align-items: center;
                gap: 8px;
            }
            
            /* Featured Collections Improvements */
            .featured-collections {
                background-color: #121212;
                padding: 40px 0 20px;
            }
            
            .featured-collections .section-title {
                color: #f5f5f5;
                text-align: center;
                font-size: 24px;
                margin-bottom: 25px;
            }
            
            .collection-grid {
                display: grid;
                grid-template-columns: repeat(2, 1fr);
                gap: 1px;
                background-color: #1a1a1a;
            }
            
            .collection-item {
                position: relative;
                height: 150px;
                overflow: hidden;
            }
            
            .collection-overlay {
                background: linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.4) 60%, rgba(0,0,0,0) 100%);
            }
            
            .collection-title {
                color: #f5f5f5;
                font-size: 16px;
                font-weight: 500;
            }
            
            .collection-btn {
                background-color: #FE5000;
                color: #fff;
                font-size: 10px;
                border-radius: 20px;
                padding: 6px 15px;
            }
            
            /* Enhanced Edge-to-Edge for Featured Collections */
            .featured-collections.edge-to-edge {
                width: 100vw;
                margin-left: -50vw;
                margin-right: -50vw;
                left: 50%;
                right: 50%;
                position: relative;
                padding: 40px 0 0;
                overflow-x: hidden;
                max-width: 100vw;
            }

            .featured-collections.edge-to-edge .container {
                width: 100%;
                max-width: 100%;
                padding: 0;
                margin: 0;
            }

            .featured-collections.edge-to-edge .collection-grid {
                width: 100%;
                display: grid;
                grid-template-columns: repeat(2, 1fr);
                gap: 1px;
                margin: 0;
                padding: 0;
            }

            .featured-collections.edge-to-edge .collection-item {
                margin: 0;
                padding: 0;
                border-radius: 0;
            }

            .featured-collections.edge-to-edge .collection-item img {
                width: 100%;
                height: 100%;
                object-fit: cover;
            }
            
            /* Category Cards Improvements */
            .category-cards {
                padding: 0;
                margin: 0;
                width: 100%;
            }
            
            .category-card {
                position: relative;
                width: 100%;
                height: 240px;
                overflow: hidden;
            }
            
            .category-overlay {
                background: linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.4) 60%, rgba(0,0,0,0) 100%);
                position: absolute;
                bottom: 0;
                left: 0;
                width: 100%;
                height: 100%;
                display: flex;
                flex-direction: column;
                justify-content: flex-end;
                align-items: center;
                padding-bottom: 25px;
            }
            
            .category-title {
                color: #f5f5f5;
                font-size: 20px;
                margin-bottom: 15px;
            }
            
            .category-btn {
                background-color: #FE5000;
                color: #fff;
                border-radius: 30px;
                padding: 8px 20px;
                font-size: 12px;
                font-weight: 600;
                letter-spacing: 1px;
            }
            
            /* Newsletter & Footer Improvements */
            .newsletter {
                background-color: #0a0a0a;
                padding: 40px 20px;
                margin: 0;
            }
            
            .newsletter-content h2 {
                color: #f5f5f5;
            }
            
            .newsletter-content p {
                color: #a0a0a0;
            }
            
            .newsletter-form input {
                background-color: #1a1a1a;
                border: 1px solid #333;
                color: #f5f5f5;
                padding: 12px 15px;
            }
            
            .newsletter-form button {
                background-color: #FE5000;
                color: #f5f5f5;
            }
            
            footer {
                background-color: #0a0a0a;
                border-top: 1px solid #222;
                margin: 0;
                padding-top: 40px;
            }
            
            /* Fix spacing between sections */
            section {
                margin: 0;
                padding: 0;
            }
            
            /* Hero Section Fixes */
            .hero {
                margin: 0;
                padding: 0;
            }
            
            .hero-overlay {
                padding-bottom: 2rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="logo">
                <a href="/" class="logo-link">
                    <img src="/images/WhatsApp_Image_2025-03-04_at_01.39.12_65330df1-removebg-preview.png" alt="D&D Brand Logo" class="logo-image">
                </a>
                <h1>D&D <span>Brand</span></h1>
            </div>
            <nav>
                <ul>
                    <li><a href="/">ANA SAYFA</a></li>
                    <li><a href="/shop">KOLEKSİYON</a></li>
                    <li><a href="/about">HAKKIMIZDA</a></li>
                    <li><a href="/contact">İLETİŞİM</a></li>
                </ul>
            </nav>
            <div class="nav-icons">
                <a href="/search" class="search-icon"><i class="fas fa-search"></i></a>
                <a href="/account" class="account-icon"><i class="fas fa-user"></i><span>HESABIM</span></a>
                <a href="/cart" class="cart-icon">
                    <i class="fas fa-shopping-bag"></i>
                    <span>SEPET</span>
                    <span class="cart-count">0</span>
                    
                    <div class="cart-preview">
                        <div class="cart-preview-header">
                            <h3>Sepetiniz</h3>
                            <span class="cart-preview-count">0 Ürün</span>
                        </div>
                        <div class="cart-preview-items">
                            <!-- Cart items will be added here by JavaScript -->
                            <div class="empty-cart-message">Sepetiniz boş</div>
                        </div>
                        <div class="cart-preview-footer">
                            <div class="cart-preview-total">
                                <span>Toplam:</span>
                                <span class="cart-preview-total-price">₺0.00</span>
                            </div>
                            <div class="cart-preview-actions">
                                <a href="/cart" class="view-cart">Sepeti Görüntüle</a>
                                <a href="/checkout" class="checkout">Ödeme</a>
                            </div>
                        </div>
                    </div>
                </a>
            </div>
            <button class="mobile-menu-btn">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </header>

    <div class="mobile-menu">
        <div class="mobile-menu-header">
            <div class="logo">
                <h1>D&D <span>Brand</span></h1>
            </div>
            <div class="close-btn">
                <i class="fas fa-times"></i>
            </div>
        </div>
        <ul>
            <li><a href="/">Ana Sayfa</a></li>
            <li><a href="/shop">Koleksiyon</a></li>
            <li><a href="/about">Hakkımızda</a></li>
            <li><a href="/contact">İletişim</a></li>
            <li><a href="/account">Hesabım</a></li>
            <li><a href="/cart">Sepet</a></li>
        </ul>
    </div>
    <div class="mobile-menu-overlay"></div>

    <section class="hero">
        <img src="/images/dndherosection.jpg" alt="DND Brand Hero Image">
        <div class="hero-overlay">
        <div class="hero-content">
                <h1 class="hero-title">Yeni Sezon <span class="highlight">Koleksiyonu</span></h1>
                <p class="hero-subtitle">Premium kalite, modern tasarım ve benzersiz detaylarla öne çıkan lüks giyim markası.</p>
            <div class="hero-buttons">
                    <a href="/shop" class="btn">Hemen Alışverişe Başla</a>
                    <a href="/collections" class="btn btn-secondary">Koleksiyonları Keşfet</a>
                </div>
                </div>
            <div class="hero-content-mobile">
                <div class="season-tag">Yaz/2025</div>
                <div class="hashtag">#DNDBRAND</div>
                <div class="hero-buttons">
                    <a href="/shop" class="btn">ALIŞVERIŞ</a>
                    <a href="/collections" class="btn">KEŞFET</a>
                </div>
            </div>
        </div>
    </section>

    <section class="featured-collections edge-to-edge">
        <div class="container">
            <h2 class="section-title">Öne Çıkan Koleksiyonlar</h2>
            <div class="collection-grid">
                <div class="collection-item fade-in">
                    <img src="/images/erkekkoleksiyon.jpg" alt="Erkek Koleksiyonu">
                    <div class="collection-overlay">
                        <h3 class="collection-title">Erkek</h3>
                        <a href="/shop?category=men" class="collection-btn">KEŞFET</a>
                    </div>
                </div>
                <div class="collection-item fade-in">
                    <img src="/images/turuncukaza.jpg" alt="Kadın Koleksiyonu">
                    <div class="collection-overlay">
                        <h3 class="collection-title">Kadın</h3>
                        <a href="/shop?category=women" class="collection-btn">KEŞFET</a>
                    </div>
                </div>
                <div class="collection-item fade-in">
                    <img src="/images/aksesuar.jpg" alt="Aksesuar Koleksiyonu">
                    <div class="collection-overlay">
                        <h3 class="collection-title">Aksesuar</h3>
                        <a href="/shop?category=accessories" class="collection-btn">KEŞFET</a>
                    </div>
                </div>
                <div class="collection-item fade-in">
                    <img src="/images/parfume2.jpg" alt="Parfüm Koleksiyonu">
                    <div class="collection-overlay">
                        <h3 class="collection-title">Parfüm</h3>
                        <a href="/shop?category=parfume" class="collection-btn">KEŞFET</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Hakkımızda section (replacing the Yeni Sezon section) -->
    <section class="about-preview-section">
        <div class="about-preview-card fade-in">
            <img src="/images/hakkimizda.jpg" alt="D&D Brand Hakkımızda">
            <div class="about-preview-overlay">
                <h3 class="about-preview-title">Hikayemiz</h3>
                <p class="about-preview-text">D&D Brand, 2020 yılında iki kardeş tarafından İstanbul'da kuruldu. Premium kalitede, modern tasarımlı ve özgün kıyafetler üretme vizyonuyla yola çıktık.</p>
                <a href="/about" class="about-preview-btn">DAHA FAZLA</a>
            </div>
        </div>
    </section>

    <!-- Completely redesigned Öne Çıkan Ürünler section for mobile -->
    <section class="trending-products-mobile">
        <div class="trending-header">
            <h2>Öne Çıkan Ürünler</h2>
            <div class="trending-subtitle">En çok tercih edilen ürünlerimiz</div>
                        </div>
        
        <div class="trending-slider" id="trending-products">
            <!-- Products will be dynamically added here via JavaScript -->
                    </div>
        
        <div class="trending-controls">
            <div class="trending-dots">
                <span class="dot active"></span>
                <span class="dot"></span>
                <span class="dot"></span>
                <span class="dot"></span>
            </div>
            <a href="/shop" class="trending-view-all">TÜM ÜRÜNLERİ GÖR <i class="fas fa-arrow-right"></i></a>
        </div>
    </section>

    <section class="category-cards">
        <div class="category-card fade-in">
            <img src="/images/dado123.jpg" alt="Premium Koleksiyon">
            <div class="category-overlay">
                <h3 class="category-title">Premium Koleksiyon</h3>
                <a href="/shop?premium=true" class="category-btn">KEŞFET</a>
            </div>
        </div>
    </section>

    <section class="newsletter">
        <div class="container">
            <div class="newsletter-content">
                <h2>Yeniliklerden Haberdar Olun</h2>
                <p>En yeni koleksiyonlar ve özel fırsatlar için bültenimize abone olun.</p>
                <form class="newsletter-form">
                    <input type="email" placeholder="E-posta adresiniz" required>
                    <button type="submit" class="btn">ABONE OL</button>
                </form>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>D&D Brand</h3>
                    <p>Premium kalite, modern tasarım ve benzersiz detaylarla öne çıkan lüks giyim markası.</p>
                    <div class="social-icons">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-pinterest"></i></a>
                    </div>
                </div>
                <div class="footer-column">
                    <h3>Alışveriş</h3>
                    <ul>
                        <li><a href="/shop?category=men">Erkek Koleksiyonu</a></li>
                        <li><a href="/shop?category=women">Kadın Koleksiyonu</a></li>
                        <li><a href="/shop?category=accessories">Aksesuarlar</a></li>
                        <li><a href="/shop?sale=true">İndirim</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Yardım</h3>
                    <ul>
                        <li><a href="/contact">Bize Ulaşın</a></li>
                        <li><a href="/shipping">Kargo Bilgileri</a></li>
                        <li><a href="/returns">İade ve Değişim</a></li>
                        <li><a href="/faq">Sıkça Sorulan Sorular</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Hakkımızda</h3>
                    <ul>
                        <li><a href="/about">Hikayemiz</a></li>
                        <li><a href="/sustainability">Sürdürülebilirlik</a></li>
                        <li><a href="/careers">Kariyer</a></li>
                        <li><a href="/privacy">Gizlilik Politikası</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2023 D&D Brand. Tüm hakları saklıdır.</p>
            </div>
        </div>
    </footer>

    <!-- Floating WhatsApp Button -->
    <a href="https://wa.me/905373058528?text=Merhaba%20D%26D%20Brand,%20" target="_blank" class="whatsapp-float">
        <i class="fab fa-whatsapp"></i>
    </a>

    <script src="/js/config.js"></script>
    <script src="/js/services/imageService.js"></script>
    <script src="/js/storage-manager.js"></script>
    <script src="/js/script.js"></script>
    <script>
        // Mobile Menu Toggle
        const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
        const mobileMenu = document.querySelector('.mobile-menu');
        const mobileMenuOverlay = document.querySelector('.mobile-menu-overlay');
        const closeBtn = document.querySelector('.close-btn');

        if (mobileMenuBtn) {
            mobileMenuBtn.addEventListener('click', function() {
                mobileMenu.classList.add('active');
                mobileMenuOverlay.classList.add('active');
                document.body.style.overflow = 'hidden';
            });
        }

        if (closeBtn) {
            closeBtn.addEventListener('click', function() {
                mobileMenu.classList.remove('active');
                mobileMenuOverlay.classList.remove('active');
                document.body.style.overflow = '';
            });
        }

        if (mobileMenuOverlay) {
            mobileMenuOverlay.addEventListener('click', function() {
                mobileMenu.classList.remove('active');
                mobileMenuOverlay.classList.remove('active');
                document.body.style.overflow = '';
            });
        }

        // Function to fetch real product data
        async function fetchTrendingProducts() {
            try {
                // Try to fetch from API first (if server is available)
                let products = [];
                
                // This is a fallback if the API call fails
                if (products.length === 0) {
                    // Use hardcoded data as fallback
                    products = [
                        {
                            id: 1,
                            name: 'Premium Cotton T-Shirt',
                            brand: 'D&D Brand',
                            price: 299.99,
                            oldPrice: 349.99,
                            image: '/images/products/product1.jpg',
                            isSale: true,
                            isNew: false
                        },
                        {
                            id: 2,
                            name: 'Slim Fit Jean',
                            brand: 'D&D Brand',
                            price: 599.99,
                            oldPrice: null,
                            image: '/images/products/product2.jpg',
                            isSale: false,
                            isNew: true
                        },
                        {
                            id: 3,
                            name: 'Oversize Hoodie',
                            brand: 'D&D Brand',
                            price: 499.99,
                            oldPrice: 599.99,
                            image: '/images/products/product3.jpg',
                            isSale: true,
                            isNew: false
                        },
                        {
                            id: 4,
                            name: 'Kış Ceketi',
                            brand: 'D&D Brand',
                            price: 1299.99,
                            oldPrice: null,
                            image: '/images/products/product4.jpg',
                            isSale: false,
                            isNew: true
                        }
                    ];
                }
                
                return products;
            } catch (error) {
                console.error('Error fetching trending products:', error);
                // Return fallback data in case of error
                return [
                    {
                        id: 1,
                        name: 'Premium Cotton T-Shirt',
                        brand: 'D&D Brand',
                        price: 299.99,
                        oldPrice: 349.99,
                        image: '/images/products/product1.jpg',
                        isSale: true,
                        isNew: false
                    },
                    {
                        id: 2,
                        name: 'Slim Fit Jean',
                        brand: 'D&D Brand',
                        price: 599.99,
                        oldPrice: null,
                        image: '/images/products/product2.jpg',
                        isSale: false,
                        isNew: true
                    },
                    {
                        id: 3,
                        name: 'Oversize Hoodie',
                        brand: 'D&D Brand',
                        price: 499.99,
                        oldPrice: 599.99,
                        image: '/images/products/product3.jpg',
                        isSale: true,
                        isNew: false
                    },
                    {
                        id: 4,
                        name: 'Kış Ceketi',
                        brand: 'D&D Brand',
                        price: 1299.99,
                        oldPrice: null,
                        image: '/images/products/product4.jpg',
                        isSale: false,
                        isNew: true
                    }
                ];
            }
        }

        // Populate trending products using the fetched data
        async function populateTrendingProducts() {
            const trendingProductsContainer = document.getElementById('trending-products');
            
            if (trendingProductsContainer) {
                // Clear any existing content
                trendingProductsContainer.innerHTML = '';
                
                // Show loading state
                trendingProductsContainer.innerHTML = '<div class="loading">Ürünler yükleniyor...</div>';
                
                try {
                    // Fetch the product data
                    const products = await fetchTrendingProducts();
                    
                    // Clear loading state
                    trendingProductsContainer.innerHTML = '';
                    
                    // Add products to container
                    products.forEach(product => {
                        const productImage = product.image || '/images/placeholder-product.jpg';
                        
                        const productCard = document.createElement('div');
                        productCard.classList.add('trending-product');
                        
                        productCard.innerHTML = `
                            <div class="trending-product-image">
                                <img src="${productImage}" alt="${product.name}">
                                ${product.isSale ? '<span class="trending-product-badge sale">İNDİRİM</span>' : ''}
                                ${product.isNew ? '<span class="trending-product-badge new">YENİ</span>' : ''}
                            </div>
                            <div class="trending-product-info">
                                <div class="trending-product-brand">${product.brand}</div>
                                <h3 class="trending-product-name">${product.name}</h3>
                                <div class="trending-product-price">
                                    <span class="trending-product-current-price">₺${product.price}</span>
                                    ${product.oldPrice ? `<span class="trending-product-old-price">₺${product.oldPrice}</span>` : ''}
                                </div>
                            </div>
                        `;
                        
                        productCard.addEventListener('click', () => {
                            window.location.href = `/product?id=${product.id}`;
                        });
                        
                        trendingProductsContainer.appendChild(productCard);
                    });
                    
                    // Set up indicator dots
                    const dots = document.querySelectorAll('.dot');
                    let currentIndex = 0;
                    
                    // Initialize dots based on number of products
                    const dotsContainer = document.querySelector('.trending-dots');
                    if (dotsContainer) {
                        dotsContainer.innerHTML = '';
                        products.forEach((_, index) => {
                            const dot = document.createElement('span');
                            dot.classList.add('dot');
                            if (index === 0) dot.classList.add('active');
                            dotsContainer.appendChild(dot);
                        });
                    }
                    
                    // Handle scroll events for the product slider
                    trendingProductsContainer.addEventListener('scroll', () => {
                        const scrollPosition = trendingProductsContainer.scrollLeft;
                        const slideWidth = trendingProductsContainer.querySelector('.trending-product').offsetWidth + 15; // width + gap
                        currentIndex = Math.round(scrollPosition / slideWidth);
                        
                        // Update active dot
                        const updatedDots = document.querySelectorAll('.trending-dots .dot');
                        updatedDots.forEach((dot, index) => {
                            dot.classList.toggle('active', index === currentIndex);
                        });
                    });
                    
                    // Add click handling for dots
                    document.querySelectorAll('.trending-dots .dot').forEach((dot, index) => {
                        dot.addEventListener('click', () => {
                            const slideWidth = trendingProductsContainer.querySelector('.trending-product').offsetWidth + 15; // width + gap
                            trendingProductsContainer.scrollTo({
                                left: index * slideWidth,
                                behavior: 'smooth'
                            });
                        });
                    });
                } catch (error) {
                    console.error('Error populating trending products:', error);
                    trendingProductsContainer.innerHTML = '<div class="error">Ürünler yüklenirken bir hata oluştu.</div>';
                }
            }
        }

        // Call the populate function when the DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            populateTrendingProducts();
            
            // Intersection Observer for fade-in animations
            const fadeElements = document.querySelectorAll('.fade-in');
            
            if ('IntersectionObserver' in window) {
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.style.opacity = '1';
                            entry.target.style.transform = 'translateY(0)';
                            observer.unobserve(entry.target);
                        }
                    });
                }, {
                    threshold: 0.1,
                    rootMargin: '0px 0px -50px 0px'
                });
                
                fadeElements.forEach(element => {
                    element.style.opacity = '0';
                    element.style.transform = 'translateY(20px)';
                    element.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                    observer.observe(element);
                });
            } else {
                // Fallback for browsers that don't support Intersection Observer
                fadeElements.forEach(element => {
                    element.style.opacity = '1';
                    element.style.transform = 'translateY(0)';
                });
            }
        });
    </script>
</body>
</html> 